(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{3038:function(e,t,r){Promise.resolve().then(r.bind(r,3566))},3566:function(e,t,r){"use strict";r.d(t,{SignUpForm:function(){return f}});var a=r(7437),n=r(2265),s=r(9376),i=r(7648),o=r(2381),u=r(279),l=r(5060),c=r(828),d=r(2476);function f(){let[e,t]=(0,n.useState)(""),[r,f]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),[p,v]=(0,n.useState)(""),[x,g]=(0,n.useState)(null),[w,y]=(0,n.useState)(!1),b=(0,s.useRouter)(),{signUp:j}=(0,c.a)(),N=async t=>{if(t.preventDefault(),g(null),r!==m){g("Passwords do not match");return}if(r.length<6){g("Password must be at least 6 characters long");return}y(!0);try{await j(e,r,p),b.push("/dashboard")}catch(e){g("Error creating account. Please try again.")}finally{y(!1)}};return(0,a.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l._,{htmlFor:"name",children:"Full Name"}),(0,a.jsx)(u.I,{id:"name",type:"text",value:p,onChange:e=>v(e.target.value),required:!0,placeholder:"Enter your full name",className:"w-full",autoComplete:"name"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l._,{htmlFor:"email",children:"Email"}),(0,a.jsx)(u.I,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"Enter your email",className:"w-full",autoComplete:"email"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l._,{htmlFor:"password",children:"Password"}),(0,a.jsx)(u.I,{id:"password",type:"password",value:r,onChange:e=>f(e.target.value),required:!0,placeholder:"Create a password",className:"w-full",autoComplete:"new-password",minLength:6})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l._,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,a.jsx)(u.I,{id:"confirmPassword",type:"password",value:m,onChange:e=>h(e.target.value),required:!0,placeholder:"Confirm your password",className:"w-full",autoComplete:"new-password",minLength:6})]}),x&&(0,a.jsx)("div",{className:"text-sm text-red-500 text-center",children:x}),(0,a.jsx)(o.z,{type:"submit",className:"w-full",disabled:w,children:w?(0,a.jsx)(d.T,{}):"Create Account"}),(0,a.jsxs)("div",{className:"text-center text-sm",children:["Already have an account?"," ",(0,a.jsx)(i.default,{href:"/",className:"font-semibold text-primary hover:underline",children:"Sign in"})]})]})}},2476:function(e,t,r){"use strict";r.d(t,{T:function(){return n}});var a=r(7437);function n(){return(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})})}r(2265)},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var a=r(7437),n=r(2265),s=r(5293),i=r(535),o=r(3448);let u=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:l=!1,...c}=e,d=l?s.g7:"button";return(0,a.jsx)(d,{className:(0,o.cn)(u({variant:n,size:i,className:r})),ref:t,...c})});l.displayName="Button"},279:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(7437),n=r(2265),s=r(3448);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},5060:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var a=r(7437),n=r(2265),s=r(1107),i=r(535),o=r(3448);let u=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.f,{ref:t,className:(0,o.cn)(u(),r),...n})});l.displayName=s.f.displayName},9833:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return f},a:function(){return m}});var a=r(7437),n=r(2265),s=r(3301),i=r(5978),o=r(738);let u=(0,o.C6)().length>0?(0,o.Mq)():(0,o.ZF)({apiKey:"AIzaSyBaDHrLtTLBb7QViuG2800nLTTaCyY2uy4",authDomain:"timetracker-tsh.firebaseapp.com",projectId:"timetracker-tsh",storageBucket:"timetracker-tsh.firebasestorage.app",messagingSenderId:"515583830047",appId:"1:515583830047:web:2d93143879a9cd015c0d2a"}),l=(0,s.v0)(u),c=(0,i.ad)(u),d=(0,n.createContext)(null);function f(e){let{children:t}=e,[r,o]=(0,n.useState)(null),[u,f]=(0,n.useState)(!0),[m,h]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=(0,s.Aj)(l,async e=>{f(!0);try{if(e){let t=await (0,i.QT)((0,i.JU)(c,"users",e.uid));if(t.exists()){let r={id:e.uid,email:e.email,name:t.data().name};o(r),document.cookie="session=".concat(e.uid,"; path=/")}}else o(null),document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT"}catch(e){h(e instanceof Error?e:Error("An error occurred"))}finally{f(!1)}});return()=>e()},[]);let p=async(e,t)=>{try{await (0,s.e5)(l,e,t)}catch(e){throw h(e instanceof Error?e:Error("Failed to sign in")),e}},v=async(e,t,r)=>{try{let{user:a}=await (0,s.Xb)(l,e,t);await (0,i.pl)((0,i.JU)(c,"users",a.uid),{email:e,name:r,createdAt:new Date}),o({id:a.uid,email:a.email,name:r})}catch(e){throw h(e instanceof Error?e:Error("Failed to sign up")),e}},x=async()=>{try{await (0,s.w7)(l),o(null)}catch(e){throw h(e instanceof Error?e:Error("Failed to sign out")),e}};return(0,a.jsx)(d.Provider,{value:{user:r,loading:u,error:m,signIn:p,signUp:v,signOut:x},children:t})}function m(){let e=(0,n.useContext)(d);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},828:function(e,t,r){"use strict";r.d(t,{a:function(){return a.a}});var a=r(9833)},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(1994),n=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[853,139,35,580,971,117,744],function(){return e(e.s=3038)}),_N_E=e.O()}]);