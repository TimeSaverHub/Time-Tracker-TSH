(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5232:function(e,t,r){Promise.resolve().then(r.t.bind(r,9974,23)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,9833))},9833:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return h},a:function(){return f}});var n=r(7437),a=r(2265),i=r(3301),o=r(5978),s=r(738);let c=(0,s.C6)().length>0?(0,s.Mq)():(0,s.ZF)({apiKey:"AIzaSyBaDHrLtTLBb7QViuG2800nLTTaCyY2uy4",authDomain:"timetracker-tsh.firebaseapp.com",projectId:"timetracker-tsh",storageBucket:"timetracker-tsh.firebasestorage.app",messagingSenderId:"515583830047",appId:"1:515583830047:web:2d93143879a9cd015c0d2a"}),u=(0,i.v0)(c),l=(0,o.ad)(c),d=(0,a.createContext)(null);function h(e){let{children:t}=e,[r,s]=(0,a.useState)(null),[c,h]=(0,a.useState)(!0),[f,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=(0,i.Aj)(u,async e=>{h(!0);try{if(e){let t=await (0,o.QT)((0,o.JU)(l,"users",e.uid));if(t.exists()){let r={id:e.uid,email:e.email,name:t.data().name};s(r),document.cookie="session=".concat(e.uid,"; path=/")}}else s(null),document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT"}catch(e){m(e instanceof Error?e:Error("An error occurred"))}finally{h(!1)}});return()=>e()},[]);let p=async(e,t)=>{try{await (0,i.e5)(u,e,t)}catch(e){throw m(e instanceof Error?e:Error("Failed to sign in")),e}},y=async(e,t,r)=>{try{let{user:n}=await (0,i.Xb)(u,e,t);await (0,o.pl)((0,o.JU)(l,"users",n.uid),{email:e,name:r,createdAt:new Date}),s({id:n.uid,email:n.email,name:r})}catch(e){throw m(e instanceof Error?e:Error("Failed to sign up")),e}},_=async()=>{try{await (0,i.w7)(u),s(null)}catch(e){throw m(e instanceof Error?e:Error("Failed to sign out")),e}};return(0,n.jsx)(d.Provider,{value:{user:r,loading:c,error:f,signIn:p,signUp:y,signOut:_},children:t})}function f(){let e=(0,a.useContext)(d);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},2778:function(){},9974:function(e){e.exports={style:{fontFamily:"'__Inter_d65c78', '__Inter_Fallback_d65c78'",fontStyle:"normal"},className:"__className_d65c78"}}},function(e){e.O(0,[635,853,139,35,971,117,744],function(){return e(e.s=5232)}),_N_E=e.O()}]);