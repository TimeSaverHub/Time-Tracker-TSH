(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3719:function(e,t,r){Promise.resolve().then(r.bind(r,352))},352:function(e,t,r){"use strict";r.d(t,{LoginForm:function(){return f}});var n=r(7437),a=r(2265),s=r(9376),i=r(7648),o=r(2381),u=r(279),l=r(5060),d=r(828),c=r(2476);function f(){let[e,t]=(0,a.useState)(""),[r,f]=(0,a.useState)(""),[m,h]=(0,a.useState)(null),[p,v]=(0,a.useState)(!1),x=(0,s.useRouter)(),{signIn:b}=(0,d.a)(),g=async t=>{t.preventDefault(),h(null),v(!0);try{await b(e,r),x.push("/dashboard")}catch(e){h("Invalid email or password")}finally{v(!1)}};return(0,n.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(l._,{htmlFor:"email",children:"Email"}),(0,n.jsx)(u.I,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"Enter your email",className:"w-full",autoComplete:"email"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(l._,{htmlFor:"password",children:"Password"}),(0,n.jsx)(i.default,{href:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),(0,n.jsx)(u.I,{id:"password",type:"password",value:r,onChange:e=>f(e.target.value),required:!0,placeholder:"Enter your password",className:"w-full",autoComplete:"current-password"})]}),m&&(0,n.jsx)("div",{className:"text-sm text-red-500 text-center",children:m}),(0,n.jsx)(o.z,{type:"submit",className:"w-full",disabled:p,children:p?(0,n.jsx)(c.T,{}):"Sign In"}),(0,n.jsxs)("div",{className:"text-center text-sm",children:["Don't have an account?"," ",(0,n.jsx)(i.default,{href:"/signup",className:"font-semibold text-primary hover:underline",children:"Sign up"})]})]})}},2476:function(e,t,r){"use strict";r.d(t,{T:function(){return a}});var n=r(7437);function a(){return(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})})}r(2265)},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(7437),a=r(2265),s=r(5293),i=r(535),o=r(3448);let u=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:l=!1,...d}=e,c=l?s.g7:"button";return(0,n.jsx)(c,{className:(0,o.cn)(u({variant:a,size:i,className:r})),ref:t,...d})});l.displayName="Button"},279:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(7437),a=r(2265),s=r(3448);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},5060:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var n=r(7437),a=r(2265),s=r(1107),i=r(535),o=r(3448);let u=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.f,{ref:t,className:(0,o.cn)(u(),r),...a})});l.displayName=s.f.displayName},9833:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return f},a:function(){return m}});var n=r(7437),a=r(2265),s=r(3301),i=r(5978),o=r(738);let u=(0,o.C6)().length>0?(0,o.Mq)():(0,o.ZF)({apiKey:"AIzaSyBaDHrLtTLBb7QViuG2800nLTTaCyY2uy4",authDomain:"timetracker-tsh.firebaseapp.com",projectId:"timetracker-tsh",storageBucket:"timetracker-tsh.firebasestorage.app",messagingSenderId:"515583830047",appId:"1:515583830047:web:2d93143879a9cd015c0d2a"}),l=(0,s.v0)(u),d=(0,i.ad)(u),c=(0,a.createContext)(null);function f(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[u,f]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=(0,s.Aj)(l,async e=>{f(!0);try{if(e){let t=await (0,i.QT)((0,i.JU)(d,"users",e.uid));if(t.exists()){let r={id:e.uid,email:e.email,name:t.data().name};o(r),document.cookie="session=".concat(e.uid,"; path=/")}}else o(null),document.cookie="session=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT"}catch(e){h(e instanceof Error?e:Error("An error occurred"))}finally{f(!1)}});return()=>e()},[]);let p=async(e,t)=>{try{await (0,s.e5)(l,e,t)}catch(e){throw h(e instanceof Error?e:Error("Failed to sign in")),e}},v=async(e,t,r)=>{try{let{user:n}=await (0,s.Xb)(l,e,t);await (0,i.pl)((0,i.JU)(d,"users",n.uid),{email:e,name:r,createdAt:new Date}),o({id:n.uid,email:n.email,name:r})}catch(e){throw h(e instanceof Error?e:Error("Failed to sign up")),e}},x=async()=>{try{await (0,s.w7)(l),o(null)}catch(e){throw h(e instanceof Error?e:Error("Failed to sign out")),e}};return(0,n.jsx)(c.Provider,{value:{user:r,loading:u,error:m,signIn:p,signUp:v,signOut:x},children:t})}function m(){let e=(0,a.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},828:function(e,t,r){"use strict";r.d(t,{a:function(){return n.a}});var n=r(9833)},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(1994),a=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}},function(e){e.O(0,[853,139,35,580,971,117,744],function(){return e(e.s=3719)}),_N_E=e.O()}]);